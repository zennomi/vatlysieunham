extends ../layouts/common.pug
block content
    h1 Lớp #{className}
    if students.length == 0
        .alert.alert-warning Không có dữ liệu.
    else
        table.table.table-hover.table-light
            thead
                tr
                    th.text-center ID
                        svg.ml-1.bi.bi-arrow-down-up(width='1em', height='1em', viewbox='0 0 16 16', fill='currentColor', xmlns='http://www.w3.org/2000/svg')
                            path(fill-rule='evenodd', d='M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z')
                    th Tên
                        svg.ml-1.bi.bi-arrow-down-up(width='1em', height='1em', viewbox='0 0 16 16', fill='currentColor', xmlns='http://www.w3.org/2000/svg')
                            path(fill-rule='evenodd', d='M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z')
                    th.d-none.d-md-block Ngày sinh
                    th.text-center
                        span.d-none.d-md-inline Thao tác
            tbody
                each student in students
                    tr
                        td.text-center= student.id
                        td= student.name
                        td.d-none.d-md-block
                            if (student.dob)
                                student.dob.toLocaleDateString()
                        td.text-center
                            .dropdown
                                button#dropdownMenuButton.btn.btn-light.dropdown-toggle(type='button', data-toggle='dropdown', aria-haspopup='true', aria-expanded='false')
                                .dropdown-menu(aria-labelledby='dropdownMenuButton')
                                    a.dropdown-item(href="/students/" + student.id) Xem
                                    a.dropdown-item(href="/students/edit/" + student.id) Sửa
                                    a.dropdown-item(href='/students/delete/' + student.id) Xóa
    if (homeworks.length == 0)
        .alert.alert-warning Danh sách BTVN của lớp này trống.
    else
        h3 Danh sách Bài tập lớp #{className}
        .table-responsive
            table.table.table-hover
                thead
                    tr
                        th Tên HS
                            svg.ml-1.bi.bi-arrow-down-up(width='1em', height='1em', viewbox='0 0 16 16', fill='currentColor', xmlns='http://www.w3.org/2000/svg')
                                path(fill-rule='evenodd', d='M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z')
                        each homework in homeworks
                            th.text-center
                                a.text-dark(href='/homeworks/view/'+homework._id, title=homework.type + ': ' +homework.name)= homework.date.toISOString().slice(5,10)
                                svg.ml-1.bi.bi-arrow-down-up(width='1em', height='1em', viewbox='0 0 16 16', fill='currentColor', xmlns='http://www.w3.org/2000/svg')
                                    path(fill-rule='evenodd', d='M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z')
                tbody
                    each student in homeworksOfStudents
                        tr
                            td
                                a.text-dark(href='/students/'+student.student[0].id)= student.student[0].name
                            each record in student.arrayOfRecords
                                if record
                                    if (record.note)
                                        td.font-italic.text-center(style="cursor: help;", title=record.note)= record.point
                                    else
                                        td.text-center= record.point
block script
    script(type='text/javascript', src='/student.filter.js')